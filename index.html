<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOCP Assignment: Weather App</title>
    <style>

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #74ebd5, #ACB6E5);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
        }

        .card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            text-align: center;
            width: 300px;
        }

        h2 { margin-top: 0; color: #333; }

        input {
            padding: 10px;
            width: 70%;
            border: 1px solid #ccc;
            border-radius: 5px;
            outline: none;
        }

        button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 5px;
        }

        button:hover { background-color: #0056b3; }

        .weather-info {
            margin-top: 20px;
            display: none; 
        }

        .temp {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
        }

        .details {
            font-size: 1rem;
            color: #666;
            margin: 5px 0;
        }

        .error {
            color: red;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }
    </style>
</head>
<body>

    <div class="card">
        <h2>Weather App</h2>
        
        <div>
            <input type="text" id="cityInput" placeholder="Enter city name">
            <button id="searchBtn">Search</button>
        </div>

        <div class="weather-info" id="weatherInfo">
            <div class="temp" id="temp">--°C</div>
            <div class="details" id="condition">Condition: --</div>
            <div class="details" id="humidity">Humidity: --%</div>
        </div>

        <div class="error" id="errorMessage"></div>
    </div>

<script>
    




    const apiKey = "b1ac41a49eaf9ae6f69a403491bf6fd4"; // OpenWeather API Key

    const searchBtn = document.getElementById('searchBtn');
    const cityInput = document.getElementById('cityInput');
    const weatherInfo = document.getElementById('weatherInfo');
    const errorMessage = document.getElementById('errorMessage');

    // Function to fetch weather
    async function getWeather() {
        const city = cityInput.value;
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
        fetch()

        // Clear previous errors/data
        errorMessage.style.display = 'none';
        weatherInfo.style.display = 'none';

        if(city === "") return;

        // Requirement: Handle wrong city input using try/catch
        try {
            // Requirement: Use fetch() to call OpenWeather API
            const response = await fetch(url);

            // Check if the API returned a 404 error (City not found)
            if (!response.ok) {
                throw new Error("City not found");
            }

            const data = await response.json();

            // Display the data
            document.getElementById('temp').innerText = `${Math.round(data.main.temp)}°C`;
            document.getElementById('condition').innerText = `Condition: ${data.weather[0].main}`;
            document.getElementById('humidity').innerText = `Humidity: ${data.main.humidity}%`;
            
            weatherInfo.style.display = 'block';

        } catch (error) {
            // This block runs if fetch fails or city is invalid
            errorMessage.innerText = error.message;
            errorMessage.style.display = 'block';
        }
    }

    // Event Listeners
    searchBtn.addEventListener('click', getWeather);
    
    // Allow pressing "Enter" key
    cityInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') getWeather();
    });

</script>

</body>
</html>